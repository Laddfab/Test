<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Laddfab · 3D fondo + panel vidrio</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin:0; height:100%; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      /* El BODY scrollea: scrollbar al extremo derecho */
      overflow-y: auto;
      background: #000; /* fallback mientras no renderiza el 3D */
    }

    /* Canvas 3D como fondo fijo, detrás de todo */
    #three-bg {
      position: fixed; inset: 0; z-index: 0;
      pointer-events: none; /* no bloquea el scroll ni clics */
    }

    /* Contenido principal (encima del 3D) */
    .page {
      position: relative; z-index: 1;
      min-height: 100vh;
      display: flex; justify-content: flex-start; align-items: stretch;
    }

    /* Panel de TEXTO IZQUIERDO (50%) con vidrio pavonado */
    .panel-left {
      width: 50vw;
      padding: clamp(16px, 3vw, 36px);
      color: #111;
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(10px) saturate(1.1);
      -webkit-backdrop-filter: blur(10px) saturate(1.1);
      border-right: 1px solid rgba(255,255,255,0.45);
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
    }

    .wrap { max-width: 720px; }
    .brand { font-size:clamp(28px,5vw,48px); font-weight:700; margin:0 0 12px; }
    .subtitle { font-size:clamp(16px,2.2vw,20px); margin:0 0 18px; color:#333; line-height:1.4; }

    /* Espaciador a la derecha: deja ver el 3D sesgado hacia ese lado */
    .spacer-right { flex: 1 1 auto; }

    /* Móvil */
    @media (max-width: 900px){
      .page { display:block; }
      .panel-left { width: 100vw; border-right: none; }
      .wrap { max-width: 640px; }
    }

    /* Overlay de CARGA */
    #loading-overlay {
      position: fixed; inset: 0; z-index: 3;
      background: #0b0b0c; color: #fff;
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px;
      font: 14px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    #loading-bar-rail {
      width: min(520px, 52vw); height: 6px; background:#222; border-radius:999px; overflow:hidden;
    }
    #loading-bar { height:100%; width:0%; background:#4ade80; }
    #loading-pct { font-variant-numeric: tabular-nums; }

    /* lil-gui arriba-derecha */
    .lil-gui.root { position: fixed !important; right: 10px; top: 10px; z-index: 2; }
  </style>

  <!-- Import map local -->
  <script type="importmap">
  { "imports": { "three": "./lib/three.js-r161/build/three.module.min.js" } }
  </script>
</head>
<body>

  <!-- 3D de fondo -->
  <div id="three-bg"></div>

  <!-- Overlay de CARGA -->
  <div id="loading-overlay">
    <div>cargando escena… <span id="loading-pct">0%</span></div>
    <div id="loading-bar-rail"><div id="loading-bar"></div></div>
    <div style="opacity:.7; font-size:12px">Laddfab · 3D</div>
  </div>

  <!-- Panel IZQUIERDO (vidrio) + espacio DERECHA -->
  <main class="page">
    <section class="panel-left">
      <div class="wrap">
        <h1 class="brand">Laddfab</h1>
        <p class="subtitle">Laboratorio de fabricación digitalb11</p>

        <!-- ====== BLOQUE 1 ====== -->
        <h2>Introducción</h2>
        <p>Bienvenido. Este panel ocupa la mitad izquierda y el scroll es del navegador, con la barra al extremo derecho. El 3D se renderiza fijo como fondo y se “ancla” visualmente hacia la derecha, para destacar la escena.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ut finibus nunc. Proin ac urna non nunc ornare elementum. Integer sagittis sem sem, a dapibus lectus vestibulum nec. Sed ac congue ante. Integer sit amet laoreet odio, a vehicula justo. Maecenas dictum pharetra erat, eget pulvinar magna fermentum sit amet.</p>
        <p>Sed eget consequat nisi, vitae placerat orci. Nunc eget sem massa. Praesent facilisis, arcu non rhoncus scelerisque, elit justo pulvinar ipsum, sit amet semper metus mauris ut velit. Mauris dignissim varius placerat. Etiam nec mi nec velit gravida tristique. Nulla facilisi. Donec ac lectus fermentum, eleifend lorem id, ullamcorper est.</p>
        <p>Aliquam porttitor sagittis ante at ultrices. Mauris auctor sapien ac placerat varius. Integer rutrum, nisl vel dictum fermentum, mauris dui eleifend mi, et faucibus elit velit nec turpis. Nullam id tincidunt massa. Quisque non enim dictum, aliquam est in, sollicitudin nulla. Mauris consequat nulla a ex blandit, vitae auctor elit venenatis.</p>

        <!-- ====== BLOQUE 2 (duplicado) ====== -->
        <h2>Servicios</h2>
        <p>In fermentum, neque a ultricies dignissim, elit nunc posuere mi, et aliquet nisl magna at mi. Suspendisse potenti. Nulla convallis nibh id felis tincidunt, quis tristique ex porttitor. Integer finibus magna id neque volutpat sagittis. Curabitur ultrices volutpat mi, a posuere odio interdum nec.</p>
        <p>Phasellus ut elit at lacus tempus tincidunt. Pellentesque nec mattis odio. Integer venenatis dui sit amet tortor lacinia aliquet. Donec fringilla id metus ut euismod. Integer quis ante tellus. Donec ultrices mi nec mi pretium, ut suscipit urna posuere. Integer porttitor, leo id consequat laoreet, nibh elit sodales nisi, ut molestie neque lacus non urna.</p>
        <p>Morbi vitae justo turpis. Sed non nisi luctus, dapibus risus vitae, pretium neque. Nam vitae laoreet odio. Donec placerat sem ac commodo pretium. Vivamus sed elit ac libero porta convallis. Integer mi purus, elementum ut elit vitae, condimentum ultricies turpis.</p>

        <!-- ====== BLOQUE 3 (triplicado) ====== -->
        <h2>Proyectos</h2>
        <p>Vivamus ut turpis id turpis facilisis congue. Sed gravida massa at nunc fermentum, vel vestibulum lorem luctus. Pellentesque interdum tortor et ante ullamcorper, vel viverra ipsum ultricies. Sed cursus eros ut dui viverra, eget congue eros bibendum.</p>
        <p>Curabitur venenatis arcu at dignissim fringilla. Ut sed nibh id eros tristique gravida. Duis tincidunt hendrerit odio quis maximus. Praesent luctus vitae leo at sagittis. Integer luctus congue lectus a commodo. Integer iaculis efficitur felis, at imperdiet neque condimentum id.</p>
        <p>Suspendisse egestas, ipsum vel tristique viverra, quam magna maximus purus, vitae tempor arcu felis sed mauris. Mauris dictum, urna eget porta lobortis, elit justo luctus nibh, at placerat arcu elit at metus. Fusce a leo vulputate, euismod mi a, cursus tortor.</p>

        <!-- ====== BLOQUE 4 (extra largo) ====== -->
        <h2>Más información</h2>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>

        <!-- ====== BLOQUE 5 (triplicar aún más) ====== -->
        <h2>FAQ</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Integer tempor mi id dui maximus, et dignissim dolor venenatis. Nulla aliquet, massa in vulputate pharetra, turpis arcu convallis dui, vel euismod risus est vitae nibh.</p>
        <p>Maecenas quis varius turpis. Sed dignissim lacus non bibendum mattis. Duis imperdiet dui vel turpis efficitur, vitae sollicitudin lorem pulvinar. In fringilla feugiat nibh, ut fringilla dolor faucibus sed. Etiam a velit id urna viverra gravida.</p>
        <p>Praesent pharetra scelerisque ante, non sagittis erat porta non. Etiam ut ipsum in nunc gravida elementum. Vivamus sit amet justo eget risus accumsan fermentum sed vel quam. Integer vitae velit sem. Cras at lectus id nunc convallis blandit.</p>
        <p>Etiam commodo, nulla et facilisis dapibus, justo nibh ultrices sapien, a accumsan erat neque pulvinar turpis. Proin lorem lectus, posuere nec condimentum non, varius sed orci. Vivamus nec nisl id tortor consectetur dictum in eget nisl.</p>
        <p>Donec ut laoreet lectus, vitae ultricies eros. Donec pellentesque mauris id ligula gravida, at vehicula nulla volutpat. Pellentesque molestie justo nec mi gravida, sit amet accumsan felis efficitur.</p>

        <!-- ====== BLOQUE 6 (última repetición para scroll muy largo) ====== -->
        <h2>Contacto</h2>
        <p>Si llegaste hasta aquí, el scroll es suficientemente largo para validar el comportamiento en desktop y móvil. El 3D permanece detrás, fijo y visible en la mitad derecha del viewport.</p>
        <p>Morbi consectetur ipsum sed elementum posuere. In hac habitasse platea dictumst. Quisque vestibulum volutpat lectus, a accumsan arcu cursus ut. Sed tristique placerat felis, vel vehicula metus feugiat ac.</p>
        <p>Phasellus sollicitudin purus at tellus volutpat consequat. Pellentesque a placerat lectus, ut vulputate dolor. Suspendisse potenti. Mauris ligula turpis, bibendum eu sollicitudin sed, interdum id diam.</p>
        <p>Integer fermentum arcu a velit malesuada, quis tristique justo varius. Pellentesque vel quam vitae justo volutpat dapibus. Integer pretium blandit metus, a vestibulum ipsum feugiat eget.</p>
        <p>Gracias por probar la versión con scroll extenso.</p>
      </div>
    </section>

    <div class="spacer-right" aria-hidden="true"></div>
  </main>

  <!-- lil-gui (global 'lil') -->
  <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.20"></script>

  <!-- Módulo 3D -->
  <script type="module" src="js/script6.js"></script>
</body>
</html>
