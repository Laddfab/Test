<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Laddfab · 3D fondo + panel vidrio</title>
  <style>
    * { box-sizing: border-box; }
    html, body { margin:0; height:100%; }
    body {
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      /* Scrollbar del navegador al extremo derecho */
      overflow-y: auto;
      background: #000; /* fallback mientras no renderiza el 3D */
    }

    :root{
      /* ====== CONTROLES DEL PANEL (puedes cambiar aquí) ====== */
      --panel-bg-r: 255;   /* ROJO   0-255 */
      --panel-bg-g: 255;   /* VERDE  0-255 */
      --panel-bg-b: 255;   /* AZUL   0-255 */
      --panel-bg-a: 0.55;  /* ALPHA  0-1   */
      /* ======================================================= */
    }

    /* 3D de fondo (el canvas va dentro) */
    #three-bg {
      position: fixed; inset: 0; z-index: 0;
      /* Por defecto: permitir interacción fuera del panel */
      pointer-events: auto;
    }

    /* Capa de contenido encima del 3D */
    .page {
      position: relative; z-index: 1;
      min-height: 100vh;
      display: flex; justify-content: flex-start; align-items: stretch;
    }

    /* Panel IZQUIERDO (vidrio pavonado) */
    .panel-left {
      width: 50vw;
      padding: clamp(16px, 3vw, 36px);
      color: #111;

      background: rgba(var(--panel-bg-r), var(--panel-bg-g), var(--panel-bg-b), var(--panel-bg-a));
      backdrop-filter: blur(10px) saturate(1.1);
      -webkit-backdrop-filter: blur(10px) saturate(1.1);
      border-right: 1px solid rgba(255,255,255,0.45);
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      pointer-events: auto; /* el panel sí captura eventos */
    }

    .wrap { max-width: 720px; }
    .brand { font-size:clamp(28px,5vw,48px); font-weight:700; margin:0 0 12px; }
    .subtitle { font-size:clamp(16px,2.2vw,20px); margin:0 0 18px; color:#333; line-height:1.4; }

    /* Zona derecha: deja ver el 3D */
    .spacer-right { flex: 1 1 auto; }

    /* Móvil */
    @media (max-width: 900px){
      .page { display:block; }
      .panel-left { width: 100vw; border-right: none; }
      .wrap { max-width: 640px; }
    }

    /* Overlay de CARGA */
    #loading-overlay {
      position: fixed; inset: 0; z-index: 3;
      background: #0b0b0c; color: #fff;
      display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px;
      font: 14px/1.1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }
    #loading-bar-rail {
      width: min(520px, 52vw); height: 6px; background:#222; border-radius:999px; overflow:hidden;
    }
    #loading-bar { height:100%; width:0%; background:#4ade80; transition: width .15s linear; }
    #loading-pct { font-variant-numeric: tabular-nums; }

    /* lil-gui arriba-derecha */
    .lil-gui.root { position: fixed !important; right: 10px; top: 10px; z-index: 2; }
  </style>

  <!-- Import map local (Three r161) -->
  <script type="importmap">
  { "imports": { "three": "./lib/three.js-r161/build/three.module.min.js" } }
  </script>
</head>
<body>

  <!-- 3D de fondo -->
  <div id="three-bg"></div>

  <!-- Overlay de CARGA -->
  <div id="loading-overlay">
    <div>cargando escena… <span id="loading-pct">0%</span></div>
    <div id="loading-bar-rail"><div id="loading-bar"></div></div>
    <div style="opacity:.7; font-size:12px">Laddfab · 3D</div>
  </div>

  <!-- Panel IZQUIERDO (vidrio) + espacio DERECHA -->
  <main class="page">
    <section class="panel-left">
      <div class="wrap">
        <h1 class="brand">Laddfab</h1>
        <p class="subtitle">Laboratorio de fabricación digital</p>

        <h2>Introducción</h2>
        <p>Panel vidrio pavonado a la izquierda; el 3D se renderiza detrás a pantalla completa y puedes manipularlo en la zona derecha. Este texto es largo para validar el scroll del navegador.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ac urna non nunc ornare elementum. Integer sagittis sem sem, a dapibus lectus vestibulum nec. Sed ac congue ante. Maecenas dictum pharetra erat, eget pulvinar magna fermentum sit amet.</p>
        <p>Sed eget consequat nisi, vitae placerat orci. Praesent facilisis, arcu non rhoncus scelerisque, elit justo pulvinar ipsum, sit amet semper metus mauris ut velit. Mauris dignissim varius placerat. Etiam nec mi nec velit gravida tristique. Nulla facilisi.</p>

        <h2>Servicios</h2>
        <p>In fermentum, neque a ultricies dignissim, elit nunc posuere mi, et aliquet nisl magna at mi. Suspendisse potenti. Integer finibus magna id neque volutpat sagittis. Curabitur ultrices volutpat mi, a posuere odio interdum nec.</p>
        <p>Phasellus ut elit at lacus tempus tincidunt. Pellentesque nec mattis odio. Integer venenatis dui sit amet tortor lacinia aliquet. Donec fringilla id metus ut euismod.</p>

        <h2>Proyectos</h2>
        <p>Vivamus ut turpis id turpis facilisis congue. Pellentesque interdum tortor et ante ullamcorper, vel viverra ipsum ultricies. Sed cursus eros ut dui viverra, eget congue eros bibendum.</p>
        <p>Curabitur venenatis arcu at dignissim fringilla. Ut sed nibh id eros tristique gravida. Integer luctus congue lectus a commodo. Integer iaculis efficitur felis.</p>

        <h2>Más información</h2>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>
        <p>Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo. Repetición para probar scroll largo.</p>

        <h2>FAQ</h2>
        <p>Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Integer tempor mi id dui maximus, et dignissim dolor venenatis. Nulla aliquet, massa in vulputate pharetra.</p>
        <p>Maecenas quis varius turpis. Sed dignissim lacus non bibendum mattis. Duis imperdiet dui vel turpis efficitur, vitae sollicitudin lorem pulvinar.</p>

        <h2>Contacto</h2>
        <p>El scroll es del navegador; el 3D permanece fijo detrás. En escritorio, manipula el 3D en la zona derecha; en móvil, el panel ocupa todo el ancho.</p>
      </div>
    </section>
    <div class="spacer-right" aria-hidden="true"></div>
  </main>

  <!-- lil-gui (global 'lil') -->
  <script src="https://cdn.jsdelivr.net/npm/lil-gui@0.20"></script>

  <!-- Módulo 3D -->
  <script type="module" src="js/script6.js"></script>
</body>
</html>
